Below is an explanation of the logic behind each output parameter, along with a practical example to illustrate how it works.

1. LIFE_IN_PROCESSING_FEE_CHARGES

Logic:
	•	This is the processing fee for life insurance, calculated based on the loan amount and LI_TYPE (e.g., Monthly, Upfront).
	•	Formula:
	•	Monthly: Fee is calculated monthly based on the disbursed loan amount and the loan tenor.
	•	Upfront: Fee is calculated for the entire loan tenor in advance.

Example:
	•	Loan Amount: OMR 100,000
	•	LI_TYPE: Monthly
	•	Calculation: Assume the fee is 0.5% per month:
￼

2. DISBURSED_LOAN_AMOUNT

Logic:
	•	Total amount disbursed to the customer after deducting applicable fees.
	•	Formula:
￼

Example:
	•	Loan Amount: OMR 100,000
	•	Processing Fees: OMR 500
	•	Life Insurance: OMR 2,000
	•	Calculation:
￼

3. MAX_LOAN_TENOR

Logic:
	•	Maximum allowable loan tenor based on the customer’s age and loan product.
	•	Retrieved from the EMI_CONDITIONS table.

Example:
	•	Customer Age: 45 years
	•	Maximum Age Allowed: 60 years
	•	Calculation: Maximum tenor:
￼

4. MAX LOAN AMOUNT

Logic:
	•	Maximum loan amount based on the customer’s salary, DBR (Debt-to-Burden Ratio), and product type.
	•	Formula for Salary-Based Loans:
￼

Example:
	•	Net Salary: OMR 1,500
	•	Salary Percentage: 50%
	•	Existing Loan EMI: OMR 300
	•	Calculation:
￼

5. EMI

Logic:
	•	EMI (Equated Monthly Installment) is calculated using the standard formula:
￼
Where:
	•	￼ Loan Amount
	•	￼ Monthly Interest Rate
	•	￼ Loan Tenor (in months)

Example:
	•	Loan Amount: OMR 100,000
	•	Interest Rate: 6% annual (0.5% monthly)
	•	Loan Tenor: 120 months (10 years)
	•	Calculation:
￼

6. DBR%

Logic:
	•	Debt-to-Burden Ratio (DBR) represents the total EMI as a percentage of the customer’s salary.
	•	Formula:
￼

Example:
	•	Net Salary: OMR 1,500
	•	Existing EMI: OMR 300
	•	New EMI: OMR 800
	•	Calculation:
￼

7. Total_Property_Value%

Logic:
	•	Represents the total property value for house loans:
￼

Example:
	•	Land Value: OMR 50,000
	•	Building Value: OMR 100,000
	•	Calculation:
￼

8. Loan_Amount_Per_Property_Value%

Logic:
	•	Calculates the loan-to-value ratio for property loans:
￼

Example:
	•	Loan Amount: OMR 100,000
	•	Total Property Value: OMR 150,000
	•	Calculation:
￼

9. Age Error

Logic:
	•	Triggers if the customer’s age at loan maturity exceeds the allowable age (MAX_AGE).

Example:
	•	Current Age: 55 years
	•	Loan Tenor: 120 months (10 years)
	•	Max Age: 60 years
	•	Result:
￼

10. LTV_Error

Logic:
	•	Checks if the loan-to-value ratio exceeds the maximum allowable percentage (LTV_Local).

Example:
	•	Loan Amount: OMR 100,000
	•	Total Property Value: OMR 150,000
	•	Maximum LTV: 60%
	•	Result:
￼

11. Age At Maturity

Logic:
	•	Calculates the customer’s age at the end of the loan tenor.

Example:
	•	Current Age: 30 years
	•	Loan Tenor: 180 months (15 years)
	•	Calculation:
￼

12. Loan Processing FEE With VAT

Logic:
	•	Calculates the loan processing fee, including VAT (if applicable).

Example:
	•	Processing Fee: OMR 1,000
	•	VAT Rate: 5%
	•	Calculation:
￼

13. EMI START DATE and EMI END DATE

Logic:
	•	Fetches the start and end dates of EMI payments from the amortization schedule.

Example:
	•	Loan Start Date: 1st Jan 2024
	•	Loan Tenor: 120 months
	•	Result:
	•	EMI Start Date: 1st Feb 2024
	•	EMI End Date: 1st Jan 2034

These calculations ensure accurate and detailed loan reporting. Let me know if you need clarification on any specific parameter!